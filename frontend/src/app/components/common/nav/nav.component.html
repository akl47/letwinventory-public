<mat-sidenav-container class="sidenav-container" autosize>
    <mat-sidenav mode="side" opened class="sidenav" [class.collapsed]="isSidenavCollapsed()">
        <!-- Sidenav Header -->
        <div class="sidenav-header">
            <div class="logo"><img src="assets/logo.svg" alt="Logo"></div>
            <span class="title">Letwinventory</span>
        </div>

        <!-- Navigation Items -->
        <mat-nav-list>

            @if (!isAuthenticated()) {
            <a mat-list-item routerLink="/home" routerLinkActive="active-link" matTooltip="Home"
                matTooltipPosition="right" [matTooltipDisabled]="!isSidenavCollapsed()">
                <mat-icon matListItemIcon>home</mat-icon>
                <span matListItemTitle>Home</span>
            </a>
            }
            @if (isAuthenticated()) {
            <a mat-list-item routerLink="/tasks" (click)="navigateToTasks($event)" routerLinkActive="active-link" matTooltip="Tasks"
                matTooltipPosition="right" [matTooltipDisabled]="!isSidenavCollapsed()">
                <mat-icon matListItemIcon>task</mat-icon>
                <span matListItemTitle>Tasks</span>
            </a>
            <a mat-list-item routerLink="/inventory" routerLinkActive="active-link" matTooltip="Inventory"
                matTooltipPosition="right" [matTooltipDisabled]="!isSidenavCollapsed()">
                <mat-icon matListItemIcon>inventory</mat-icon>
                <span matListItemTitle>Inventory</span>
            </a>
            <a mat-list-item routerLink="/parts" routerLinkActive="active-link" matTooltip="Parts"
                matTooltipPosition="right" [matTooltipDisabled]="!isSidenavCollapsed()">
                <mat-icon matListItemIcon>widgets</mat-icon>
                <span matListItemTitle>Parts</span>
            </a>
            <a mat-list-item routerLink="/equipment" routerLinkActive="active-link" matTooltip="Equipment"
                matTooltipPosition="right" [matTooltipDisabled]="!isSidenavCollapsed()">
                <mat-icon matListItemIcon>build</mat-icon>
                <span matListItemTitle>Equipment</span>
            </a>
            <a mat-list-item routerLink="/orders" routerLinkActive="active-link" matTooltip="Orders"
                matTooltipPosition="right" [matTooltipDisabled]="!isSidenavCollapsed()">
                <mat-icon matListItemIcon>shopping_cart</mat-icon>
                <span matListItemTitle>Orders</span>
            </a>
            }
        </mat-nav-list>
    </mat-sidenav>

    <mat-sidenav-content class="sidenav-content">
        <mat-toolbar class="nav-header" [class.dev]="isDev">
            <button mat-icon-button (click)="toggleSidenav()" aria-label="Toggle sidenav">
                <mat-icon>menu</mat-icon>
            </button>
            <img height="36em" src="assets/logo.svg" alt="Logo">
            <span class="title-text">{{ isDev ? 'Letwinventory-dev' : 'Letwinventory' }}</span>
            <span class="spacer"></span>
            @if (isAuthenticated()) {
            <span class="user-name">{{ currentUser()?.displayName }}</span>
            <button mat-button (click)="logout()" aria-label="Logout">
                <mat-icon>logout</mat-icon>
                Logout
            </button>
            } @else {
            <button mat-button (click)="login()" aria-label="Login with Google">
                <mat-icon>login</mat-icon>
                Login
            </button>
            }
        </mat-toolbar>

        <main class="content">
            <router-outlet />
        </main>
    </mat-sidenav-content>
</mat-sidenav-container>