<h2 mat-dialog-title>{{ isEditMode ? 'Edit Equipment' : 'New Equipment' }}</h2>
<mat-dialog-content>
    <form [formGroup]="form" class="dialog-form">
        <mat-form-field appearance="outline">
            <mat-label>Name</mat-label>
            <input matInput formControlName="name" placeholder="Equipment name" maxlength="100" required>
            @if (form.get('name')?.hasError('required') && form.get('name')?.touched) {
            <mat-error>Name is required</mat-error>
            } @else if (form.get('name')?.hasError('maxlength')) {
            <mat-error>Name must be 100 characters or less</mat-error>
            }
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Description</mat-label>
            <textarea matInput formControlName="description" rows="2" maxlength="255"
                placeholder="Brief description of the equipment"></textarea>
            <mat-hint>Optional</mat-hint>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Serial Number</mat-label>
            <input matInput formControlName="serialNumber" placeholder="Manufacturer serial number" maxlength="100">
            <mat-hint>Optional - manufacturer's serial number</mat-hint>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Commission Date</mat-label>
            <input matInput [matDatepicker]="commissionPicker" formControlName="commissionDate">
            <mat-datepicker-toggle matIconSuffix [for]="commissionPicker"></mat-datepicker-toggle>
            <mat-datepicker #commissionPicker></mat-datepicker>
            <mat-hint>Optional - date equipment was put into service</mat-hint>
        </mat-form-field>
    </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
    @if (isEditMode) {
    <button mat-flat-button class="mat-custom-error" (click)="delete()" style="margin-right: auto;">
        <mat-icon>delete</mat-icon>
        Delete
    </button>
    }
    <button mat-button mat-dialog-close>Cancel</button>
    <button mat-flat-button color="primary" (click)="save()">
        {{ isEditMode ? 'Save' : 'Create' }}
    </button>
</mat-dialog-actions>
